
let ranges = [];
ranges.push({
	id: 2,
	freq: 2000,
	gain: -15.17,
	q: 5,
	_arr: [-0.9462654702233441,-0.9896650014720003,-1.0346425053756556,-1.0812406264289995,-1.1295027706054683,-1.1794731120959996,-1.2311966000477808,-1.2847189653029998,-1.3400867271375936,-1.3973471999999998,-1.456548500249906,-1.5177395528969997,-1.5809700983397186,-1.646290699104,-1.7137527465820312,-1.783408467771,-1.8553109320118435,-1.929514057728,-2.0060726191641565,-2.0850422531250006,-2.1664794657139694,-2.2504416390720006,-2.3369870381162814,-2.4261748172790005,-2.5180650272460947,-2.612718621696001,-2.7101974640384072,-2.8105643341529984,-2.913882935128217,-3.0202178999999987,-3.1296347984905295,-3.242200143746999,-3.3579813990803427,-3.4770469847039993,-3.5994662844726557,-3.7253096526209992,-3.8546484205024676,-3.9875549033279993,-4.124102406904781,-4.264365234375,-4.408418692954593,-4.556339100672,-4.7082037931069065,-4.864091130129,-5.0240805026367195,-5.188252339296,-5.356688113279032,-5.5294703490030015,-5.706682628868846,-5.888409600000002,-6.074736980981158,-6.265751568597002,-6.461541244570967,-6.662194982303997,-6.86780285361328,-7.078456035470998,-7.294246816743092,-7.515268604927997,-7.741615932895403,-7.9733844656249975,-8.210671006945217,-8.453573506271999,-8.702191065347531,-8.956623944979,-9.216973571777343,-9.483342544895999,-9.755834642769656,-10.034554829853,-10.31960926335947,-10.611105300000002,-10.90915150272178,-11.213857647447002,-11.525334729811595,-11.843694971904002,-12.169051829003907,-12.501519996321,-12.841215415733723,-13.188255282527994,-13.542758052136028,-13.904843446874997,-14.27463246268584,-14.652247375872,-15.037811749838152,-15.431450441828998,-15.833289609667965,-16.243456718495995,-16.662080547510282,-17.089291196702998,-17.525220093600094,-17.97,-17.525220093600094,-17.089291196702998,-16.662080547510282,-16.243456718495995,-15.833289609667965,-15.431450441828998,-15.037811749838152,-14.652247375872,-14.27463246268584,-13.904843446874997,-13.542758052136028,-13.188255282527994,-12.841215415733723,-12.501519996321,-12.169051829003907,-11.843694971904002,-11.525334729811595,-11.213857647447002,-10.90915150272178,-10.611105300000002,-10.31960926335947,-10.034554829853,-9.755834642769656,-9.483342544895999,-9.216973571777343,-8.956623944979,-8.702191065347531,-8.453573506271999,-8.210671006945217,-7.9733844656249975,-7.741615932895403,-7.515268604927997,-7.294246816743092,-7.078456035470998,-6.86780285361328,-6.662194982303997,-6.461541244570967,-6.265751568597002,-6.074736980981158,-5.888409600000002,-5.706682628868846,-5.5294703490030015,-5.356688113279032,-5.188252339296,-5.0240805026367195,-4.864091130129,-4.7082037931069065,-4.556339100672,-4.408418692954593,-4.264365234375,-4.124102406904781,-3.9875549033279993,-3.8546484205024676,-3.7253096526209992,-3.5994662844726557,-3.4770469847039993,-3.3579813990803427,-3.242200143746999,-3.1296347984905295,-3.0202178999999987,-2.913882935128217,-2.8105643341529984,-2.7101974640384072,-2.612718621696001,-2.5180650272460947,-2.4261748172790005,-2.3369870381162814,-2.2504416390720006,-2.1664794657139694,-2.0850422531250006,-2.0060726191641565,-1.929514057728,-1.8553109320118435,-1.783408467771,-1.7137527465820312,-1.646290699104,-1.5809700983397186,-1.5177395528969997,-1.456548500249906,-1.3973471999999998,-1.3400867271375936,-1.2847189653029998,-1.2311966000477808,-1.1794731120959996,-1.1295027706054683,-1.0812406264289995,-1.0346425053756556,-0.9896650014720003,-0.9462654702233441,-0.9044020218750004,-0.8640335146735315,-0.8251195481280001,-0.7876204562712189,-0.7514973009210002,-0.7167118649414064,-0.6832266455040001,-0.6510048473490937,-0.6200103760469999,-0.5902078312592812,-0.5615625,-0.5340403498969687,-0.5076080224529999,-0.4822328263071562,-0.457882730496,-0.43452635771484366,-0.4121329775789998,-0.3906724998850313,-0.37011546787200006,-0.3504330514827188,-0.33159704062500006,-0.31357983843290627,-0.29635445452799997,-0.27989449828059376,-0.26417417207099997,-0.24916826455078117,-0.23485214390399992,-0.22120175110846868,-0.2081935931969999,-0.19580473651865632,-0.18401280000000006,-0.1727959484063438,-0.162132885603,-0.15200284781653126,-0.142385596896,-0.13326141357421875,-0.12461109072899998,-0.11641592664440623,-0.10865771827199998,-0.10131875449209372,-0.09438180937499996,-0.0878301354422812,-0.08164745692800003,-0.07581796303996877,-0.07032630122100002,-0.06515757041015627,-0.060297314304,-0.05573151461784375,-0.051446584347,-0.04742936102803124,-0.04366709999999999,-0.04014746766571874,-0.03685853475299999,-0.033788769575906236,-0.03092703129600001,-0.028262563183593763,-0.025784985879000005,-0.023484290653781256,-0.021350832672000004,-0.019375324251468748,-0.017548828125,-0.015862750701656245,-0.014308835328,-0.012879155549343744,-0.011566108371000002,-0.010362407519531252,-0.009261076703999999,-0.008255442877218749,-0.007339129496999997,-0.006506049787406247,-0.005750400000000002,-0.00506665267509375,-0.004449549903,-0.0038940965852812493,-0.0033955536959999993,-0.0029494315429687487,-0.002551483029000001,-0.0021976969131562506,-0.001884291072,-0.00160770576084375,-0.0013645968749999998,-0.0011518292110312496,-0.0009664697280000003,-0.0008057808087187501,-0.0006672135210000001,-0.00054840087890625,-0.000447151104,-0.00036144088659375006,-0.00028940864699999997,-0.00022934779678124992,-0.00017970000000000006,-0.00013904843446875,-0.00010611105299999998,-0.00007973384465625003,-0.000058884096,-0.000042643652343749994,-0.00003020217900000001,-0.000020850422531250004,-0.000013973472,-0.000009044020218749999,-0.000005615625000000002,-0.0000033159704062499993,-0.000001840128,-9.438180937500003e-7,-4.36671e-7,-1.7548828125000006e-7,-5.7504e-8,-1.364596875e-8,-1.797e-9,-5.615625e-11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	_coords: { x: 90, y: 161 },
});

ranges.push({
	id: 3,
	freq: 2000,
	gain: 15.17,
	q: 5,
	_arr: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5.590625000000001e-11,1.7890000000000003e-9,1.358521875e-8,5.724800000000001e-8,1.747070312500001e-7,4.34727e-7,9.396163437500004e-7,0.0000018319360000000003,0.0000033012081562499994,0.000005590625000000003,0.00000900375746875,0.000013911264,0.000020757599281250006,0.000030067723000000013,0.000042453808593749996,0.00005862195200000001,0.00007937888040625004,0.00010563866099999998,0.00013842940971875,0.0001789000000000001,0.00022832677153124993,0.000288120239,0.00035983180084375006,0.000445160448,0.00054595947265625,0.0006642431770000002,0.0008021935819687502,0.0009621671360000004,0.0011467014237812499,0.0013585218749999999,0.0016005484730937502,0.0018759024640000004,0.0021879130649062506,0.0025401241730000014,0.002936301074218749,0.0033804371519999994,0.00387676059603125,0.004429741111,0.00504409662534375,0.005724800000000003,0.006477085737156248,0.007306456688999998,0.008218690766468749,0.009219847648,0.010316275488281254,0.011514617627000002,0.012821819297593746,0.014245134336,0.015792131889406247,0.017470703125,0.019289067938718752,0.021255781664000006,0.02337974178053126,0.025670194623000006,0.028136742089843764,0.030789348352000014,0.03363834656165624,0.036694445560999996,0.039968736590968744,0.043472699999999996,0.047218211952781246,0.051217551139000006,0.05548340548209376,0.06002887884800001,0.06486749775390628,0.07001321807700002,0.07548043176321877,0.08128397353600005,0.08743912760503121,0.09396163437499996,0.10086769715434372,0.10817398886399998,0.11589765874615623,0.124056339073,0.13266815185546876,0.141751715552,0.15132615177728126,0.161411092011,0.17202668430659382,0.1831936000000001,0.19493304041840634,0.20726674358899994,0.2202169909477187,0.23380661404799993,0.2480590012695312,0.26299810452699995,0.2786484459788438,0.295035124736,0.31218382357065627,0.3301208156250001,0.34887297111996884,0.36846776406400006,0.3889332789617813,0.4102982175229999,0.4325919053710937,0.455844298752,0.4800859912429062,0.5053482204609999,0.5316628747722187,0.5590625,0.5875803061340312,0.6172501740390001,0.6481066621633438,0.6801850132480002,0.7135211610351565,0.7481517369770003,0.784114076944469,0.8214462279360002,0.8601869547862816,0.9003757468750004,0.942052824835594,0.9852591472640004,1.0300364174274057,1.0764270899729997,1.1244743776367185,1.1742222579519999,1.2257154799585308,1.2789995709109998,1.3341208429878437,1.3911263999999999,1.450064144099656,1.5109827824889999,1.5739318341289688,1.6389616364480002,1.7061233520507812,1.7754689754270003,1.8470513396600936,1.9209241231360004,1.9971418562519068,2.075759928125001,2.1568345933012196,2.2404229784640006,2.3265830891430315,2.4153738164230005,2.506854943652345,2.6010871531520015,2.6981320329241574,2.7980520833609988,2.9009107239534675,3.006772299999999,3.11570208931528,3.227766308938999,3.343032121844593,3.4615676436479994,3.583441949316406,3.7087250798769995,3.837488049125718,3.969802850336,4.105742462967531,4.245380859375,4.388793011516844,4.536054897664,4.687243509108657,4.842436856873,5.00171397841797,5.165154944352,5.332840865139782,5.504853897811002,5.681277252669097,5.862195200000003,6.0476930767809085,6.237857293389003,6.432775340310217,6.632535794847998,6.8372283278320305,7.046943710326999,7.261773820341343,7.481811649535998,7.7071513099331534,7.9378880406249985,8.17411821448247,8.415939344863999,8.66345009232428,8.916750271323002,9.175940856933593,9.441123991552,9.712402991605407,9.989882354261,10.27366776413472,10.563866100000004,10.860585441496532,11.163935075839003,11.474025504525846,11.790968450048002,12.114876862597658,12.445864926777002,12.784048068306975,13.129542960735996,13.482467532148778,13.842940971874999,14.211083737198091,14.587017560064,14.970865453789905,15.362751719772998,15.762801954199217,16.171143054751997,16.587903227321032,17.013211992711,17.447200193350344,17.89,18.341744918462144,17.89,17.447200193350344,17.013211992711,16.587903227321032,16.171143054751997,15.762801954199217,15.362751719772998,14.970865453789905,14.587017560064,14.211083737198091,13.842940971874999,13.482467532148778,13.129542960735996,12.784048068306975,12.445864926777002,12.114876862597658,11.790968450048002,11.474025504525846,11.163935075839003,10.860585441496532,10.563866100000004,10.27366776413472,9.989882354261,9.712402991605407,9.441123991552,9.175940856933593,8.916750271323002,8.66345009232428,8.415939344863999,8.17411821448247,7.9378880406249985,7.7071513099331534,7.481811649535998,7.261773820341343,7.046943710326999,6.8372283278320305,6.632535794847998,6.432775340310217,6.237857293389003,6.0476930767809085,5.862195200000003,5.681277252669097,5.504853897811002,5.332840865139782,5.165154944352,5.00171397841797,4.842436856873,4.687243509108657,4.536054897664,4.388793011516844,4.245380859375,4.105742462967531,3.969802850336,3.837488049125718,3.7087250798769995,3.583441949316406,3.4615676436479994,3.343032121844593,3.227766308938999,3.11570208931528,3.006772299999999,2.9009107239534675,2.7980520833609988,2.6981320329241574,2.6010871531520015,2.506854943652345,2.4153738164230005,2.3265830891430315,2.2404229784640006,2.1568345933012196,2.075759928125001,1.9971418562519068,1.9209241231360004,1.8470513396600936,1.7754689754270003,1.7061233520507812,1.6389616364480002,1.5739318341289688,1.5109827824889999,1.450064144099656,1.3911263999999999,1.3341208429878437,1.2789995709109998,1.2257154799585308,1.1742222579519999,1.1244743776367185,1.0764270899729997,1.0300364174274057,0.9852591472640004,0.942052824835594,0.9003757468750004,0.8601869547862816,0.8214462279360002,0.784114076944469,0.7481517369770003,0.7135211610351565,0.6801850132480002,0.6481066621633438,0.6172501740390001,0.5875803061340312,0.5590625,0.5316628747722187,0.5053482204609999,0.4800859912429062,0.455844298752,0.4325919053710937,0.4102982175229999,0.3889332789617813,0.36846776406400006,0.34887297111996884,0.3301208156250001,0.31218382357065627,0.295035124736,0.2786484459788438,0.26299810452699995,0.2480590012695312,0.23380661404799993,0.2202169909477187,0.20726674358899994,0.19493304041840634,0.1831936000000001,0.17202668430659382,0.161411092011,0.15132615177728126,0.141751715552,0.13266815185546876,0.124056339073,0.11589765874615623,0.10817398886399998,0.10086769715434372,0.09396163437499996,0.08743912760503121,0.08128397353600005,0.07548043176321877,0.07001321807700002,0.06486749775390628,0.06002887884800001,0.05548340548209376,0.051217551139000006,0.047218211952781246,0.043472699999999996,0.039968736590968744,0.036694445560999996,0.03363834656165624,0.030789348352000014,0.028136742089843764,0.025670194623000006,0.02337974178053126,0.021255781664000006,0.019289067938718752,0.017470703125,0.015792131889406247,0.014245134336,0.012821819297593746,0.011514617627000002,0.010316275488281254,0.009219847648,0.008218690766468749,0.007306456688999998,0.006477085737156248,0.005724800000000003,0.00504409662534375,0.004429741111,0.00387676059603125,0.0033804371519999994,0.002936301074218749,0.0025401241730000014,0.0021879130649062506,0.0018759024640000004,0.0016005484730937502,0.0013585218749999999,0.0011467014237812499,0.0009621671360000004,0.0008021935819687502,0.0006642431770000002,0.00054595947265625,0.000445160448,0.00035983180084375006,0.000288120239,0.00022832677153124993,0.0001789000000000001,0.00013842940971875,0.00010563866099999998,0.00007937888040625004,0.00005862195200000001,0.000042453808593749996,0.000030067723000000013,0.000020757599281250006,0.000013911264,0.00000900375746875,0.000005590625000000003,0.0000033012081562499994,0.0000018319360000000003,9.396163437500004e-7,4.34727e-7,1.747070312500001e-7,5.724800000000001e-8,1.358521875e-8,1.7890000000000003e-9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	_coords: { x: 90, y: 161 },
});


let line_arr = new Array(1000);


let Peq = {
	init(dEl) {
		let Self = this,
			el = dEl.find(`.peq-cvs .media-analyzer`),
			width = el.prop("offsetWidth"),
			height = el.prop("offsetHeight");
		// fast references
		Self._width = width;
		Self._height = height;
		// prepare canvas
		Self._lineCvs = el.nextAll("canvas.peq-line:first").attr({ width, height });
		Self._lineCtx = Self._lineCvs[0].getContext("2d");
		Self._lineCtx.strokeStyle = "#d0f6ff";
		Self._lineCtx.lineWidth = 1;
		// Self._lineCtx.translate(.5, .5);
		// initial draw line
		Self.render();

		// ctx.beginPath();
		// ctx.moveTo(0, 99);
		// ctx.lineTo(446, 99);
		// ctx.stroke();
	},
	render() {
		let Self = this,
			ctx = Self._lineCtx,
			cw = Self._width,
			ch = Self._height,
			ch_half = ch / 2,
			db = { max: 35 },
			first = true,
			arr = [],
			t1 = line_arr.length,
			t2 = t1 / 2,
			t3 = t1 / 4;


		for (let o=0; o<ranges.length; ++o) {
			let curr = ranges[o];
			if (first) {
				first = false;
				for (let i=0; i<t1; ++i) {
					line_arr[i] = curr._arr[i];
				}
			} else {
				for (let i=0; i<t1; ++i) {
					line_arr[i] += curr._arr[i];
				}
			}
		}

		ctx.clearRect(0, 0, 1e3, 1e3);
		ctx.beginPath();
		ctx.moveTo(0, ch_half - (line_arr[0] * (ch_half / db.max)));

		for (let i=0; i<t3; i+=1) {
			let x = (i * 2) * (cw / t1);
			let y = ch_half - (line_arr[i] * (ch_half / db.max));
			ctx.lineTo(x, y);
		}

		for (let i=t3, h=0; i<t1; i+=3, h+=2) {
			let x = (t2 + h) * (cw / t1);
			let y = ch_half - (line_arr[i] * (ch_half / db.max));
			ctx.lineTo (x, y);
		}
		ctx.stroke ();
	}
};
